;/*FB_PKG_DELIM*/

__d("MWSearchResultGettersV2",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.id!==void 0}function a(a){return typeof a==="string"}function b(a){if(j(a))return a.id;else return(h||(h=d("I64"))).of_string(a.resultId)}function k(a){if(j(a))return(h||(h=d("I64"))).to_string(a.id);else return a.resultId}function e(a){if(j(a))return 1;else return(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.threadType)}function f(a){if(j(a))return 3;else return d("LSMessagingThreadTypeUtil").isSecure(a.threadType)?1:3}function l(a){if(j(a))return d("LSContactBitOffset").has(23,a);else return a.isVerified===!0}function m(a){if(j(a)){var b=(i||(i=d("LSIntEnum"))).toNumber(a.contactTypeExact);return b===c("LSContactTypeExact").IG_USER||b===c("LSContactTypeExact").IG_BUSINESS_USER||b===c("LSContactTypeExact").IG_CREATOR_USER}else{b=(i||(i=d("LSIntEnum"))).toNumber(a.type_);return b===c("LSSearchType").IG_CONTACT_FOLLOWING||b===c("LSSearchType").IG_CONTACT_FOLLOWING||b===c("LSSearchType").IG_NONCONTACT_FOLLOWING||b===c("LSSearchType").IG_NONCONTACT_NONFOLLOWING}}function n(a){if(j(a))return d("LSContactBitOffset").has(67,a);else return a.isInteropEligible===!0}function o(a){return m(a)&&!n(a)}function p(a){if(a===void 0)return void 0;if(typeof a==="string")return"SearchResult-"+a;else{a=k(a);return"SearchResult-"+a}}g.isContact=j;g.isCustomSearchResult=a;g.getSearchResultThreadKeyI64=b;g.getSearchResultThreadKey=k;g.getSearchResultThreadType=e;g.getSearchResultTransportType=f;g.getSearchResultIsVerified=l;g.getIsSearchResultDisabled=o;g.getSearchResultElementId=p}),98);
__d("MWSearchMoveSelectionV2",["MWSearchResultGettersV2"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a.type!==void 0)return!1;else return d("MWSearchResultGettersV2").getIsSearchResultDisabled(a)}function i(a,b){return a===null||a===b-1?0:a+1}function j(a,b){return a===null||a===0?b-1:a-1}function a(a,b,c,d,e){c=c.concat(d,e);if(c.length===0)return null;d=a?i(b,c.length):j(b,c.length);e=d;while(h(c[d])){d=a?i(d,c.length):j(d,c.length);if(d===e)return null;if(!h(c[d]))break}return d}g.MWSearchMoveSelectionV2=a}),98);
__d("MWSearchStateContextV2.react",["MWSearchMoveSelectionV2","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.createContext;var j=b.useReducer;function k(a,b){switch(b.type){case"open_results":return babelHelpers["extends"]({},a,{isResultsVisibleUndeferred:!0});case"close_results":return babelHelpers["extends"]({},a,{isResultsVisibleUndeferred:!1,queryUndeferred:"",selectedIndex:null});case"change_query":return babelHelpers["extends"]({},a,{isResultsVisibleUndeferred:!0,queryUndeferred:b.payload.value,selectedIndex:null});case"move_selection":b=b.payload;var c=b.customItems,e=b.isDown,f=b.localContacts;b=b.serverResults;return babelHelpers["extends"]({},a,{isResultsVisibleUndeferred:!0,selectedIndex:d("MWSearchMoveSelectionV2").MWSearchMoveSelectionV2(e,a.selectedIndex,c,f,b)});case"clear_selection":return babelHelpers["extends"]({},a,{selectedIndex:null})}}var l={isResultsVisibleUndeferred:!1,queryUndeferred:"",selectedIndex:null},m=e(l),n=e(c("emptyFunction"));function a(a){a=a.children;var b=j(k,l),c=b[0];b=b[1];return i.jsx(m.Provider,{value:c,children:i.jsx(n.Provider,{value:b,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g.MWSearchStateContext=m;g.MWSearchDispatchContext=n;g.MWSearchStateContextV2=a}),98);
__d("MWSearchResultItemBaseV2.react",["CometPageVerificationIcon.react","MWSearchStateContextV2.react","MWXPressable.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={pressable:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},selected:{backgroundColor:"x1wpzbip",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},verifiedBadge:{paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=a.body,e=a.disabled;e=e===void 0?!1:e;var f=a.id,g=a.isSelected;g=g===void 0?!1:g;var h=a.isVerified;h=h===void 0?!1:h;var l=a.label,m=a.linkUrl,n=a.meta,o=a.onPress;a=a.startContent;var p=j(d("MWSearchStateContextV2.react").MWSearchDispatchContext),q=function(){o(),p({type:"close_results"})};return i.jsx("li",{"aria-disabled":e?!0:void 0,"aria-selected":g,id:f,role:"option",children:i.jsxs(c("MWXPressable.react"),{disabled:e,expanding:!0,focusable:!1,label:l,linkProps:m!==void 0?{preventLocalNavigation:!0,url:m}:void 0,onPress:q,overlayRadius:"normal",xstyle:[k.pressable,g?k.selected:null],children:[a,i.jsx(c("MWXTextPairing.react"),{body:i.jsxs(i.Fragment,{children:[b,h?i.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:"BLUE_VERIFIED",xstyle:k.verifiedBadge}):null]}),bodyColor:e?"disabled":void 0,bodyLineLimit:1,level:3,meta:n,metaColor:e?"disabled":void 0,metaLineLimit:1})]})})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MWMessageSearchCustomItemV2.react",["fbt","ix","MWSearchResultGettersV2","MWSearchResultItemBaseV2.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=a.isSelected,e=a.onPress;a=a.query;a=h._("__JHASH__--dZZ_HGKAA__JHASH__",[h._param("query_value",a)]);return k.jsx(c("MWSearchResultItemBaseV2.react"),{body:a,id:d("MWSearchResultGettersV2").getSearchResultElementId("message_search"),isSelected:b,label:a,onPress:e,startContent:k.jsx("div",{className:"xq8finb x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:k.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})})})}a.displayName=a.name+" [from "+f.id+"]";b=k.memo(a);g["default"]=b}),98);
__d("MWSearchKeyCommandsV2.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","MWSearchStateContextV2.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useMemo;function a(a){var b=a.children,e=a.customItems,f=a.localContacts,g=a.onEnterKey,i=a.serverResults,n=l(d("MWSearchStateContextV2.react").MWSearchDispatchContext),o=k(function(){n({type:"close_results"})},[n]),p=k(function(){g(),n({type:"close_results"})},[g,n]),q=k(function(a){n({payload:{customItems:e,isDown:a,localContacts:f,serverResults:i},type:"move_selection"})},[e,n,f,i]),r=k(function(){q(!0)},[q]),s=k(function(){q(!1)},[q]);a=m(function(){var a;return[{command:{key:(a=c("CometKeys")).ESCAPE},description:h._("__JHASH__mWoEKBNqFLb__JHASH__"),handler:o,triggerFromInputs:!0},{command:{key:a.ENTER},description:h._("__JHASH__kSC6g73Pw5j__JHASH__"),handler:p,triggerFromInputs:!0},{command:{key:a.UP},description:h._("__JHASH__6ulJzChy7bA__JHASH__"),handler:s,triggerFromInputs:!0},{command:{key:a.DOWN},description:h._("__JHASH__9pl0-h5RW7A__JHASH__"),handler:r,triggerFromInputs:!0},{command:{key:a.TAB},description:h._("__JHASH__PokmtUTLIeh__JHASH__"),handler:o,isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:a.TAB,shift:!0},description:h._("__JHASH__PokmtUTLIeh__JHASH__"),handler:o,isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}]},[o,p,s,r]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchLoadingSpinnerV2.react",["MWXSpinner.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xdd8jsf xl56j7k",children:i.jsx(c("MWXSpinner.react"),{color:"disabled",size:24})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchNoResultsV2.react",["fbt","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.query;return j.jsxs("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[j.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),j.jsx("br",{}),j.jsx(c("MWXText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a)])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSearchResultItemV2.react",["CometEmojiTransform","CometEmoticonTransform","CometTextWithEntities.react","CurrentEnvironment","MWChatFacepile.react","MWChatProfile.react","MWSearchResultGettersV2","MWSearchResultItemBaseV2.react","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.memo;var j=b.useCallback,k={profilePic:{marginEnd:"xq8finb",marginLeft:null,marginRight:null,$$css:!0}},l=e(function(a){a=a.text;return i.jsx(c("CometTextWithEntities.react"),{text:a,transforms:[c("CometEmoticonTransform")(),c("CometEmojiTransform")()]})});function m(a,b){b=(b=b.threadJoinLinkHash)==null?void 0:b.split("/").at(-2);b={link_hash:b,thread_key:a};return c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL(b):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL(b)}function a(a){var b,e=a.isSelected,f=a.onPress,g=a.result;a=d("MWSearchResultGettersV2").getSearchResultThreadKey(g);var h=m(a,g),n=d("MWSearchResultGettersV2").getIsSearchResultDisabled(g);a=j(function(){n||f(g,h)},[h,f,g,n]);return i.jsx(c("MWSearchResultItemBaseV2.react"),{body:i.jsx(l,{text:(b=(b=g.displayName)!=null?b:g.name)!=null?b:""}),disabled:n,id:d("MWSearchResultGettersV2").getSearchResultElementId(g),isSelected:e,isVerified:d("MWSearchResultGettersV2").getSearchResultIsVerified(g),label:g.displayName,linkUrl:h,meta:g.contextLine!==""?g.contextLine:void 0,onPress:a,startContent:i.jsx("div",{children:g.secondaryProfilePicUrl!==void 0&&g.secondaryProfilePicUrl!==""&&g.profilePicUrl!==void 0&&g.profilePicUrl!==""?i.jsx(c("MWChatFacepile.react"),{firstParticipantURI:g.profilePicUrl,secondParticipantURI:g.secondaryProfilePicUrl,size:36,xstyle:k.profilePic}):i.jsx(c("MWChatProfile.react"),{size:36,src:(b=g.profilePicUrl)!=null?b:g.profilePictureUrl,xstyle:k.profilePic})})})}a.displayName=a.name+" [from "+f.id+"]";b=e(a);g["default"]=b}),98);
__d("MWSearchResultSectionV2.react",["I64","MWSearchResultItemV2.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useId;function l(a,b){var c=[];for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;(i||(i=d("I64"))).ge(g.globalIndex,a.startIndex)&&(i||(i=d("I64"))).le(g.globalIndex,a.endIndex)&&c.push(g)}return c}function a(a){var b=a.onPress,d=a.section,e=a.selectedResult;a=a.serverResults;a=l(d,a);var f=k();return a.length===0?null:j.jsxs("ul",{"aria-labelledby":f,role:"group",children:[d.displayName!=null?j.jsx("li",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",id:f,children:j.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:d.displayName})}):null,a.map(function(a){return j.jsx(c("MWSearchResultItemV2.react"),{isSelected:typeof e==="string"?!1:a.resultId===(e==null?void 0:e.resultId),onPress:b,result:a},a.resultId)})]})}a.displayName=a.name+" [from "+f.id+"]";b=j.memo(a);g["default"]=b}),98);
__d("MWSearchResultListV2.react",["I64","LSIntEnum","LSSearchRequestStatusType","MWSearchLoadingSpinnerV2.react","MWSearchNoResultsV2.react","MWSearchResultItemV2.react","MWSearchResultSectionV2.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo;function n(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return a!==""?d("ReQL").fromTableAscending(b.table("search_queries")).getKeyRange(a):d("ReQL").empty()},[b,a],f.id+":46");return m(function(){if(a==="")return c("LSSearchRequestStatusType").COMPLETE;else if(e)return(i||(i=d("LSIntEnum"))).unwrapIntEnum(e.statusPrimary);else return c("LSSearchRequestStatusType").PENDING},[a,e])}function a(a){var b=a.customItems,e=a.listboxId,f=a.localContacts,g=a.onPress,h=a.query,i=a.sections,k=a.selectedResult,m=a.serverResults;a=n(h);var o=a===c("LSSearchRequestStatusType").PENDING;a=a!==c("LSSearchRequestStatusType").PENDING&&h!==""&&f.length===0&&m.length===0;return a&&b.length===0?l.jsx(c("MWSearchNoResultsV2.react"),{query:h}):l.jsxs("div",{"aria-busy":o,id:e,role:"listbox",children:[b.length>0||f.length>0?l.jsxs("ul",{role:"group",children:[b.map(function(a){return a.render({isSelected:k===a.type})}),f.map(function(a){return l.jsx(c("MWSearchResultItemV2.react"),{isSelected:typeof k!=="string"&&(k==null?void 0:k.id)!=null?(j||(j=d("I64"))).equal(a.id,k.id):!1,onPress:g,result:a},(j||(j=d("I64"))).to_string(a.id))})]}):null,i.map(function(a){return l.jsx(c("MWSearchResultSectionV2.react"),{onPress:g,section:a,selectedResult:k,serverResults:m},a.analyticsName)}),a?l.jsx(c("MWSearchNoResultsV2.react"),{query:h}):null,o?l.jsx(c("MWSearchLoadingSpinnerV2.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";b=l.memo(a);g["default"]=b}),98);
__d("MWSearchSyncRankingsV2",["I64","JSScheduler","LSFactory","LSInsertRankingContactsStoredProcedure","MWLSSyncRankings","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=!1;function k(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:(h||(h=d("I64"))).of_int32(b)})},"readwrite"))}function a(a){j||(j=!0,(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWLSSyncRankings").sync(a),k(a,100)}))}g["default"]=a}),98);
__d("MWSearchInputBaseV2.react",["MWSearchStateContextV2.react","MWXIconMagnifyingGlass","MWXIconStrict.react","MWXRoundedTextInput.react","cometTypeaheadInputWebkitStyles","cr:2012305","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.useEffect;function a(a){var e=a.addOnEnd,f=a.ariaActiveDescendant,g=a.ariaControls,h=a.ariaExpanded,l=a.inputRef,m=a.onChange,n=a.placeholder,o=a.query,p=a.surface,q=j(d("MWSearchStateContextV2.react").MWSearchDispatchContext);k(function(){var a=l.current;if(b("cr:2012305")!==null&&a!=null){b("cr:2012305").trackTypingPerf(a,p);return function(){b("cr:2012305").unregisterTypingPerf(a)}}},[l,p]);a=function(){q({type:"open_results"})};var r=function(a){q({payload:{value:a},type:"change_query"}),m==null?void 0:m(a)};return i.jsx(c("MWXRoundedTextInput.react"),{addOnEnd:e,"aria-activedescendant":f,"aria-autocomplete":"list","aria-controls":g,"aria-expanded":h,autoComplete:"off",icon:i.jsx(c("MWXIconStrict.react"),{color:"tertiary",icon:c("MWXIconMagnifyingGlass"),size:20}),label:n,onClick:a,onValueChange:r,placeholder:n,ref:l,role:"combobox",spellCheck:!1,type:"search",value:o,xstyle:c("cometTypeaheadInputWebkitStyles")["default"]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadlistSearchBackButton.react",["fbt","ArrowLeftFilled20IconSvg.react","ArrowRightFilled20IconSvg.react","CometVisualCompletionAttributes","Locale","MWXIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onPress;var b=d("Locale").isRTL()?c("ArrowRightFilled20IconSvg.react"):c("ArrowLeftFilled20IconSvg.react");return j.jsx("div",babelHelpers["extends"]({className:"x14qfxbe"},c("CometVisualCompletionAttributes").IGNORE,{children:j.jsx("div",{className:"xgd8bvy",children:j.jsx(c("MWXIcon.react"),{"aria-hidden":!0,"aria-label":h._("__JHASH__Q_MH9XgGK-b__JHASH__"),color:"secondary",focusable:!1,icon:b,onPress:a,size:20})})}))}a.displayName=a.name+" [from "+f.id+"]";b=j.memo(a);g["default"]=b}),98);
__d("MWThreadlistSearchInputV2.react",["fbt","MWSearchInputBaseV2.react","MWSearchStateContextV2.react","MWThreadlistSearchBackButton.react","MWXCircleButton.react","MWXIconCross","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext;function a(a){var b=a.ariaActiveDescendant,e=a.inputContainerRef,f=a.inputRef,g=a.isResultsVisible,i=a.listboxId,m=a.logSearchQueryChanged,n=a.query;a=a.surface;var o=l(d("MWSearchStateContextV2.react").MWSearchDispatchContext),p=k(function(){o({type:"close_results"})},[o]),q=function(){o({payload:{value:""},type:"change_query"})};return j.jsxs("div",{className:"x6s0dn4 x78zum5 x1swvt13 x1pi30zi",ref:e,children:[g?j.jsx(c("MWThreadlistSearchBackButton.react"),{onPress:p}):null,j.jsx(c("MWSearchInputBaseV2.react"),{addOnEnd:n!==""?j.jsx(c("MWXCircleButton.react"),{color:"tertiary",icon:c("MWXIconCross"),label:h._("__JHASH__6VeaT5-Vn71__JHASH__"),onPress:q,size:32}):null,ariaActiveDescendant:b,ariaControls:i,ariaExpanded:g,inputRef:f,onChange:m,placeholder:h._("__JHASH__ktsKn3dbNLm__JHASH__"),query:n,surface:a})]})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("MWThreadlistSearchResultsContainerV2.react",["CometContextualLayer.react","CometErrorBoundary.react","CometScrollView.react","CurrentEnvironment","MWSearchStateContextV2.react","react","stylex","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useRef,o={listWrapper:{paddingStart:"x16hj40l",paddingLeft:null,paddingRight:null,paddingEnd:"xsyo7zv",$$css:!0},results:{backgroundColor:"x1jx94hy",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"x1gslohp",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",width:"xh8yej3",$$css:!0},resultsFacebookInbox:{height:"xi3uxno",$$css:!0},resultsFacebookJewel:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xwltgoj",$$css:!0},resultsMessengerInbox:{height:"xxsl5hd",$$css:!0}};function a(a){var b=a.children,e=a.contextRef,f=a.inputRef,g=a.selectedResultElementId;a=a.surface;var i=n(null),p=l(d("MWSearchStateContextV2.react").MWSearchDispatchContext);m(function(){if(g!==void 0){var a=document.getElementById(g);a==null?void 0:a.scrollIntoView({behavior:"instant",block:"nearest"})}else if(i.current!==null){a=i.current.getDOMNode();a!=null&&(a.scrollTop=0)}},[g]);var q=k(function(){f.current!==document.activeElement&&p({type:"close_results"})},[p,f]),r=n(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(r,q);return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometContextualLayer.react"),{align:"stretch",contextRef:e,position:"below",children:j.jsx("div",{className:(h||(h=c("stylex")))(o.results,a==="MessengerJewel"?o.resultsFacebookJewel:c("CurrentEnvironment").messengerdotcom?o.resultsMessengerInbox:o.resultsFacebookInbox),ref:r,children:j.jsx(c("CometScrollView.react"),{ref:i,showsHorizontalScrollIndicator:!1,children:j.jsx("div",{className:"x16hj40l xsyo7zv",children:b})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSearchClearTablesV2",["JSScheduler","LSClearTablesStoredProcedure","LSFactory","promiseDone","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect;function a(a,b){var e=(h||(h=c("useReStore")))(),f=k(function(){return e.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))},"readwrite")},[e]),g=c("usePrevious")(a);l(function(){if(b==="MessengerJewel")return;g===!0&&!a&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("promiseDone")(f())})},[g,a,b,f])}g["default"]=a}),98);
__d("useMWSearchIssueSearchV2",["LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSSearchGranularSurfaceType","LSSearchType","LSVec","gkx","promiseDone","react","useDebouncedComet","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useCallback,l=b.useEffect,m=b.useMemo;function n(a){return m(function(){var b=[];switch(a){case"MessengerJewel":case"MessengerInboxThreadlist":var e;b=[(e=c("LSSearchType")).CONTACT,e.GROUP,e.PAGE,e.NONCONTACT,e.IG_CONTACT_FOLLOWING,e.IG_CONTACT_NONFOLLOWING,e.IG_NONCONTACT_FOLLOWING,e.IG_NONCONTACT_NONFOLLOWING];c("gkx")("6970")&&b.push(c("LSSearchType").PUBLIC_CHANNEL);c("gkx")("2096")&&b.push(c("LSSearchType").COMMUNITY_MESSAGING_THREAD);c("gkx")("10640")&&b.push(c("LSSearchType").AI_BOT);break;case"MessengerChatTabOmnipicker":var e;b=[(e=c("LSSearchType")).CONTACT,e.NONCONTACT,e.GROUP,e.PAGE,e.INTEGRATED_MESSAGE_SEARCH_THREAD];break;default:a}return c("LSVec").ofArray(b.map(function(a){return(j||(j=d("LSIntEnum"))).ofNumber(a)}))},[a])}function a(a,b,e){var f=(h||(h=c("useReStore")))(),g=n(b);b=k(function(a){c("promiseDone")(f.runInTransaction(function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:a,sessionId:(b=e.current)!=null?b:"",supportedTypes:g,surfaceType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL)})},"readwrite"))},[f,g,e]);var i=c("useDebouncedComet")(b,{wait:150});l(function(){a!==""&&i(a)},[i,a])}g.useMWSearchIssueSearchV2=a}),98);
__d("useMWSearchLocalResultsV2",["I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum","MNetRankType","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useMemo;function m(a,b){var e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k=d("ReQLSuspense").useArray(function(){return b?d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.table("ranking_scores").index("scoreTypeContactId")).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(a===""?c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE:c("MNetRankType").MESSENGER_USER_SEARCH)),d("ReQL").fromTableAscending(e.table("contacts"))).filter(function(a){a[0];a=a[1];if(!a)return!1;var b=(j||(j=d("I64"))).to_int32(a.contactTypeExact);b=b===c("LSContactTypeExact").FB_USER||b===c("LSContactTypeExact").MESSENGER_ONLY||b===c("LSContactTypeExact").DEACTIVATED_ALLOWED_ON_MESSENGER||b===c("LSContactTypeExact").MESSENGER_KID;if(!b)return!1;b=j.to_int32(a.blockedByViewerStatus)===c("LSContactBlockedByViewerStatus").UNBLOCKED;if(!b)return!1;b=j.to_int32(a.contactViewerRelationship)===c("LSContactViewerRelationship").NOT_CONTACT;if(b)return!1;b=d("LSContactBitOffset").has(0,a)===!0;if(!b)return!1;b=j.equal(g,a.id);return b?!1:!0}):d("ReQL").empty()},[e,b,g,a],f.id+":33");return k}function n(a,b){var c=a[0];a=a[1];var d=b[0];b=b[1];return c.score!==d.score?d.score-c.score:b.rank-a.rank}function o(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().split(" ").map(function(a){return a.trim()})}function a(a,b){var c=m(a,b);b=l(function(){var b=c;if(a!==""){var d=o(a);b=c.filter(function(a){var b;a[0];a=a[1];var c=(b=(b=a.normalizedSearchTerms)==null?void 0:b.split(" "))!=null?b:o(a.name);return d.every(function(a){return c.some(function(b){return b.startsWith(a)})})})}return b.sort(n).map(function(a){a[0];a=a[1];return a})},[c,a]);return b}g.useMWSearchLocalResultsV2=a}),98);
__d("useMWSearchSelectedResultV2",["MWSearchStateContextV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useMemo;function a(a,b,c,e){var f=i(d("MWSearchStateContextV2.react").MWSearchDispatchContext),g=a.length+b.length+c.length;e!==null&&e>=g&&f({type:"clear_selection"});g=j(function(){if(e===null)return void 0;var d=e;if(d<a.length)return a[d].type;d-=a.length;if(d<b.length)return b[d];d-=b.length;return c[d]},[a,b,c,e]);return g}g.useMWSearchSelectedResultV2=a}),98);
__d("useMWSearchServerResultsV2",["I64","LSContactBlockedByViewerStatus","LSIntEnum","ReQL","ReQLSuspense","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useMemo;function a(a,b,e){var g=d("ReQLSuspense").useArray(function(){return b!==""?d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b):d("ReQL").empty()},[a,b],f.id+":33"),h=k(function(){var a=new Set(e.map(function(a){return(i||(i=d("I64"))).to_string(a.id)}));return g.filter(function(b){return(j||(j=d("LSIntEnum"))).toNumber(b.blockedByViewerStatus)===c("LSContactBlockedByViewerStatus").UNBLOCKED&&!a.has(b.resultId)}).sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)})},[e,g]),l=d("ReQLSuspense").useArray(function(){return b!==""?d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b):d("ReQL").empty()},[a,b],f.id+":60");l.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});return[h,l]}g.useMWSearchServerResultsV2=a}),98);
__d("SearchEndAction",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({SEND:1,DWELL:2,CALL:3,CREATE_GROUP:4,ADD_GROUP_MEMBER:5,CREATE_GROUP_FROM_ADDING_GROUP_MEMBER:6,SUCCESS:7,ABANDON:8,SEND_INVITE:9,JOIN:10,CREATE_BROADCAST_FLOW_CHAT:11,CREATE_PUBLIC_FLOW_CHAT:12,VIEW_ON_FACEBOOK:13,VIEW_PROFILE_ON_FACEBOOK:14,VIEW_PROFILE_ON_INSTAGRAM:15,JOIN_SOCIAL_CHANNEL:16,JOIN_BROADCAST_CHANNEL:17,JOIN_SUBSCRIBER_SOCIAL_CHANNEL:18,JOIN_SUBSCRIBER_BROADCAST_CHANNEL:19,CREATE_AI_AGENT:20});c=a;f["default"]=c}),66);
__d("useMWThreadlistSearchUniversalLoggingV2",["LSIntEnum","LSSearchType","MWSearchResultGettersV2","gkx","react","requireDeferred","usePrevious","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=c("requireDeferred")("UniversalSearchEndFalcoEvent").__setRef("useMWThreadlistSearchUniversalLoggingV2"),n=c("requireDeferred")("UniversalSearchQueryChangedFalcoEvent").__setRef("useMWThreadlistSearchUniversalLoggingV2"),o=c("requireDeferred")("UniversalSearchResultSelectedFalcoEvent").__setRef("useMWThreadlistSearchUniversalLoggingV2"),p=c("requireDeferred")("UniversalSearchStartFalcoEvent").__setRef("useMWThreadlistSearchUniversalLoggingV2");function q(a){return a===15||a===16?1:3}function r(a){if(d("MWSearchResultGettersV2").isContact(a))return 3;else{a=(i||(i=d("LSIntEnum"))).toNumber(a.type_);switch(a){case c("LSSearchType").IG_CONTACT_FOLLOWING:return 7;case c("LSSearchType").IG_CONTACT_NONFOLLOWING:return 8;case c("LSSearchType").PAGE:case c("LSSearchType").IG_BUSINESS:return 9;case c("LSSearchType").COMMUNITY_MESSAGING_THREAD:return 13;default:return 5}}}function s(a){if(d("MWSearchResultGettersV2").isContact(a))return 1;else{a=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.type_);switch(a){case c("LSSearchType").CONTACT:return 1;case c("LSSearchType").NONCONTACT:return 2;case c("LSSearchType").GROUP:return 3;case c("LSSearchType").IG_CONTACT_FOLLOWING:case c("LSSearchType").IG_CONTACT_NONFOLLOWING:return 4;case c("LSSearchType").IG_NONCONTACT_FOLLOWING:case c("LSSearchType").IG_NONCONTACT_NONFOLLOWING:return 5;case c("LSSearchType").PAGE:return 9;case c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD:return 14;case c("LSSearchType").IG_BUSINESS:return 15;case c("LSSearchType").COMMUNITY_MESSAGING_THREAD:return 16;case c("LSSearchType").AI_BOT:return 33;default:return 7}}}function a(a){var b=l(null),e=l({}),f=c("usePrevious")(a);k(function(){var d;d=(d=f)!=null?d:!1;if(a&&!d){if(b.current===null){var g=c("uuidv4")();b.current=g;p.onReadyImmediately(function(a){return a.log(function(){return{is_epd:c("gkx")("4438"),session_id:g}})});n.onReadyImmediately(function(a){a.log(function(){return{query_length:"0",query_string:null,session_id:g}})})}}else if(!a&&d){var h=b.current;if(h!==null){d=e.current;var i=d.endAction;d=d.threadType;b.current=null;e.current={};var j=i===7?q(d):null;m.onReadyImmediately(function(a){return a.log(function(){var a;return{end_action:(a=i)!=null?a:8,is_epd:c("gkx")("4438"),session_id:h,transport_type:j}})})}}},[a,f]);var g=j(function(a){var c=b.current;c!==null&&n.onReadyImmediately(function(b){return b.log(function(){return{query_length:String(a.length),query_string:a,session_id:c}})})},[]),h=j(function(a,f,g){var h=b.current;if(h==null)return;d("MWSearchResultGettersV2").isCustomSearchResult(a)||o.onReadyImmediately(function(b){b.log(function(){return{data_sources:d("MWSearchResultGettersV2").isContact(a)?[0]:[1,2],is_epd:c("gkx")("4438"),search_result:{query_string:g,result_fbid:d("MWSearchResultGettersV2").getSearchResultThreadKey(a),result_index:String(f),result_type:s(a)},session_id:h,transport_type:d("MWSearchResultGettersV2").getSearchResultTransportType(a),ui_section:r(a)}})});e.current={endAction:7,threadType:d("MWSearchResultGettersV2").isCustomSearchResult(a)?void 0:d("MWSearchResultGettersV2").getSearchResultThreadType(a)}},[]);return{logSearchQueryChanged:g,logSearchResultSelected:h,sessionIdRef:b}}g.useMWThreadlistSearchUniversalLoggingV2=a}),98);
__d("MWThreadlistSearchV2.react",["CometPlaceholder.react","I64","LSIntEnum","LSSearchType","MWMessageSearchCustomItemV2.react","MWSearchKeyCommandsV2.react","MWSearchResultGettersV2","MWSearchResultListV2.react","MWSearchStateContextV2.react","MWSearchSyncRankingsV2","MWThreadlistSearchInputV2.react","MWThreadlistSearchResultsContainerV2.react","ReQL","asyncToGeneratorRuntime","cr:4538","cr:4539","gkx","promiseDone","react","recoverableViolation","useBlockedUserInterstitial","useCometRouterDispatcher","useMWNavigation","useMWSearchClearTablesV2","useMWSearchIssueSearchV2","useMWSearchLocalResultsV2","useMWSearchSelectedResultV2","useMWSearchServerResultsV2","useMWThreadlistSearchUniversalLoggingV2","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useContext,o=e.useDeferredValue,p=e.useEffect,q=e.useId,r=e.useMemo,s=e.useRef;function t(a,e,f){var g=c("useMWNavigation")(),h=c("useBlockedUserInterstitial")(),i=c("useCometRouterDispatcher")(),j=b("cr:4538")==null?void 0:b("cr:4538")(),l=m(function(a){return j==null?void 0:j(a)},[j]),n=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:l});return m(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,j,l,m){f(b,l,m);var o=d("MWSearchResultGettersV2").getSearchResultThreadKeyI64(b);l=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(o)));h(o,l,function(){var a=b.threadType?(k||(k=d("LSIntEnum"))).toNumber(b.threadType):void 0,f=b.type_?(k||(k=d("LSIntEnum"))).toNumber(b.type_):void 0;f=(a===151||a===155&&c("gkx")("6661"))&&f===c("LSSearchType").PUBLIC_CHANNEL;a=a===153;f?n&&b.threadJoinLinkHash!==void 0&&n(b.threadJoinLinkHash):a?i&&j!==void 0&&i.go(j,{}):g.openTabOrInbox({clientThreadKey:void 0,threadKey:o,threadType:(k||(k=d("LSIntEnum"))).ofNumber(d("MWSearchResultGettersV2").getSearchResultThreadType(b))},"search");e==null?void 0:e()})});return function(a,b,c,d){return j.apply(this,arguments)}}(),[a,i,n,h,g,e,f])}function u(a){var b=a.onComplete,e=a.onMessageSearchClick;a=a.surface;var f=(h||(h=c("useReStore")))(),g=n(d("MWSearchStateContextV2.react").MWSearchStateContext),i=g.isResultsVisibleUndeferred,k=g.queryUndeferred,u=g.selectedIndex,v=o(k),w=v.trim();g=o(i);i=d("useMWThreadlistSearchUniversalLoggingV2").useMWThreadlistSearchUniversalLoggingV2(i);var x=i.logSearchQueryChanged,y=i.logSearchResultSelected;i=i.sessionIdRef;var z=s(null),A=s(null);p(function(){c("MWSearchSyncRankingsV2")(f)},[f]);d("useMWSearchIssueSearchV2").useMWSearchIssueSearchV2(w,a,i);var B=d("useMWSearchLocalResultsV2").useMWSearchLocalResultsV2(w,g);i=d("useMWSearchServerResultsV2").useMWSearchServerResultsV2(f,w,B);var C=i[0];i=i[1];c("useMWSearchClearTablesV2")(g,a);var D=m(function(){e==null?void 0:e(v),y("message_search",0,v)},[v,y,e]),E=r(function(){return e&&w!==""?[{render:function(a){a=a.isSelected;return l.jsx(c("MWMessageSearchCustomItemV2.react"),{isSelected:a,onPress:D,query:w},"message_search")},type:"message_search"}]:[]},[e,D,w]),F=d("useMWSearchSelectedResultV2").useMWSearchSelectedResultV2(E,B,C,u),G=t(f,b,y);b=m(function(){if(F)if(d("MWSearchResultGettersV2").isCustomSearchResult(F))switch(F){case"message_search":D();break;default:F}else{var a;c("promiseDone")(G(F,void 0,(a=u)!=null?a:-1,v))}},[F,D,G,u,v]);var H=m(function(a,b){var e=d("MWSearchResultGettersV2").isContact(a)?B.findIndex(function(b){return(j||(j=d("I64"))).equal(b.id,a.id)}):B.length+C.findIndex(function(b){return b.resultId===a.resultId});c("promiseDone")(G(a,b,e,v))},[B,C,G,v]),I=q(),J=d("MWSearchResultGettersV2").getSearchResultElementId(F);return l.jsxs(c("MWSearchKeyCommandsV2.react"),{customItems:E,localContacts:B,onEnterKey:b,serverResults:C,children:[l.jsx(c("MWThreadlistSearchInputV2.react"),{ariaActiveDescendant:J,inputContainerRef:A,inputRef:z,isResultsVisible:g,listboxId:I,logSearchQueryChanged:x,query:k,surface:a}),g?l.jsx(c("MWThreadlistSearchResultsContainerV2.react"),{contextRef:A,inputRef:z,selectedResultElementId:J,surface:a,children:l.jsx(c("MWSearchResultListV2.react"),{customItems:E,listboxId:I,localContacts:B,onPress:H,query:w,sections:i,selectedResult:F,serverResults:C})}):null]})}u.displayName=u.name+" [from "+f.id+"]";function v(){p(function(){c("recoverableViolation")("Showed suspense boundary","messenger_web_product")},[]);return null}function a(a){return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(v,{}),children:l.jsx(d("MWSearchStateContextV2.react").MWSearchStateContextV2,{children:l.jsx(u,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g["default"]=e}),98);
__d("MWJewelSearchV2.react",["MWThreadlistSearchV2.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onClose;a.pushPage;return i.jsx("div",{className:"x1xmf6yo x1e56ztr",children:i.jsx(c("MWThreadlistSearchV2.react"),{onComplete:b,surface:"MessengerJewel"})})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);